"use strict";(self.webpackChunkmama_miracle_boutique_frontend=self.webpackChunkmama_miracle_boutique_frontend||[]).push([[966],{588:(e,s,r)=>{r.d(s,{A:()=>a});r(5043);var n=r(579);const a=()=>(0,n.jsx)("div",{className:"flex justify-center items-center min-h-[40vh] sm:min-h-screen w-full",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 sm:h-12 sm:w-12 border-t-2 border-b-2 border-blue-500"})})},5966:(e,s,r)=>{r.r(s),r.d(s,{default:()=>m});var n=r(9379),a=r(5043),t=r(3003),l=r(3216),i=r(9751),o=r(3401),c=r(588),d=r(579);const m=()=>{const[e,s]=(0,a.useState)({name:"",email:"",password:"",isAdmin:!1}),{name:r,email:m,password:u,isAdmin:b}=e,{id:h}=(0,l.g)(),x=(0,l.Zp)(),p=(0,t.wA)(),{user:f}=(0,t.d4)((e=>e.auth)),{isLoading:g,isError:w,message:k,isSuccess:j}=(0,t.d4)((e=>e.user));(0,a.useEffect)((()=>{p((0,i.cL)()),console.log("UserForm useEffect",{user:f,isError:w,message:k,isSuccess:j,id:h}),f||x("/login"),w&&o.oR.error(k),j&&(p((0,i.cL)()),x("/admin/users")),h&&p((0,i.kl)(h)).unwrap().then((e=>{s({name:e.name,email:e.email,password:"",isAdmin:e.isAdmin})})).catch((e=>{o.oR.error(e)}))}),[f,x,w,k,j,p,h]);const v=r=>{const a="checkbox"===r.target.type?r.target.checked:r.target.value;s((0,n.A)((0,n.A)({},e),{},{[r.target.name]:a}))};return g?(0,d.jsx)(c.A,{}):(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 via-blue-50 to-green-50 py-12 px-4",children:(0,d.jsxs)("div",{className:"w-full max-w-lg bg-white rounded-3xl shadow-xl p-8 border border-blue-100",children:[(0,d.jsx)("h1",{className:"text-3xl font-extrabold text-blue-600 mb-8 text-center tracking-tight",children:h?"Edit User":"Create User"}),(0,d.jsxs)("form",{onSubmit:s=>{s.preventDefault(),h?p((0,i.TK)((0,n.A)({id:h},e))).unwrap().then((()=>o.oR.success("User updated successfully"))).catch((e=>o.oR.error(e))):p((0,i.kg)(e)).unwrap().then((()=>o.oR.success("User created successfully"))).catch((e=>o.oR.error(e)))},className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,d.jsx)("input",{type:"text",name:"name",value:r,onChange:v,required:!0,className:"mt-1 block w-full rounded-xl border border-blue-200 bg-blue-50 px-4 py-2 shadow-sm focus:border-blue-400 focus:ring-2 focus:ring-blue-100 transition",placeholder:"User Name"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,d.jsx)("input",{type:"email",name:"email",value:m,onChange:v,required:!0,className:"mt-1 block w-full rounded-xl border border-pink-200 bg-pink-50 px-4 py-2 shadow-sm focus:border-pink-400 focus:ring-2 focus:ring-pink-100 transition",placeholder:"user@haven.com"})]}),!h&&(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,d.jsx)("input",{type:"password",name:"password",value:u,onChange:v,required:!0,className:"mt-1 block w-full rounded-xl border border-green-200 bg-green-50 px-4 py-2 shadow-sm focus:border-green-400 focus:ring-2 focus:ring-green-100 transition",placeholder:"Password"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,d.jsx)("input",{type:"checkbox",id:"isAdmin",name:"isAdmin",checked:b,onChange:v,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 rounded"}),(0,d.jsx)("label",{htmlFor:"isAdmin",className:"text-blue-700 font-medium",children:"Admin User"})]}),(0,d.jsx)("button",{type:"submit",className:"w-full py-3 px-4 bg-gradient-to-r from-blue-400 via-pink-400 to-green-400 text-white font-bold rounded-xl shadow-lg hover:from-blue-500 hover:to-green-500 transition focus:outline-none focus:ring-2 focus:ring-blue-200",children:h?"Update User":"Create User"})]})]})})}}}]);
//# sourceMappingURL=966.14e3fe81.chunk.js.map