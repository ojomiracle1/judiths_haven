"use strict";(self.webpackChunkmama_miracle_boutique_frontend=self.webpackChunkmama_miracle_boutique_frontend||[]).push([[27],{27:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var a=t(5043),l=t(3003),n=t(9751),r=t(588),d=t(3401),i=t(579);const c=()=>{const e=(0,l.wA)(),{users:s=[],isLoading:t}=(0,l.d4)((e=>e.user)),[c,o]=(0,a.useState)("");(0,a.useEffect)((()=>{e((0,n.lo)())}),[e]);const x=s.filter((e=>e.name.toLowerCase().includes(c.toLowerCase())||e.email.toLowerCase().includes(c.toLowerCase())));return t?(0,i.jsx)(r.A,{}):(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-blue-50 to-green-50 py-12 px-4",children:(0,i.jsxs)("div",{className:"max-w-6xl mx-auto bg-white rounded-3xl shadow-xl p-8 border border-blue-100",children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[(0,i.jsx)("h2",{className:"text-3xl font-extrabold text-blue-600 tracking-tight drop-shadow-lg",children:"User Management"}),(0,i.jsx)("input",{type:"text",placeholder:"Search users...",value:c,onChange:e=>o(e.target.value),className:"input-premium w-64 max-w-full"})]}),(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"min-w-full text-xs sm:text-sm rounded-2xl overflow-hidden bg-white shadow-card backdrop-blur-md",children:[(0,i.jsx)("thead",{className:"bg-gradient-to-r from-pink-100/80 to-blue-100/80",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"px-2 sm:px-6 py-3 text-left font-bold text-blue-700 uppercase tracking-wider",children:"Avatar"}),(0,i.jsx)("th",{className:"px-2 sm:px-6 py-3 text-left font-bold text-blue-700 uppercase tracking-wider",children:"Name"}),(0,i.jsx)("th",{className:"px-2 sm:px-6 py-3 text-left font-bold text-blue-700 uppercase tracking-wider",children:"Email"}),(0,i.jsx)("th",{className:"px-2 sm:px-6 py-3 text-left font-bold text-blue-700 uppercase tracking-wider",children:"Role"}),(0,i.jsx)("th",{className:"px-2 sm:px-6 py-3 text-left font-bold text-blue-700 uppercase tracking-wider",children:"Status"}),(0,i.jsx)("th",{className:"px-2 sm:px-6 py-3 text-left font-bold text-blue-700 uppercase tracking-wider",children:"Actions"})]})}),(0,i.jsx)("tbody",{className:"divide-y divide-blue-100",children:x.map((s=>(0,i.jsxs)("tr",{className:"hover:bg-pink-50 transition",children:[(0,i.jsx)("td",{className:"px-2 sm:px-6 py-4",children:(0,i.jsx)("img",{src:s.avatar||"/images/default-avatar.png",alt:s.name,className:"w-10 h-10 rounded-full border border-pink-200 shadow"})}),(0,i.jsx)("td",{className:"px-2 sm:px-6 py-4 font-semibold text-pink-700",children:s.name}),(0,i.jsx)("td",{className:"px-2 sm:px-6 py-4 text-blue-700",children:s.email}),(0,i.jsx)("td",{className:"px-2 sm:px-6 py-4",children:(0,i.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold ".concat(s.isAdmin?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"),children:s.isAdmin?"Admin":"User"})}),(0,i.jsx)("td",{className:"px-2 sm:px-6 py-4",children:(0,i.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold ".concat(s.isBanned?"bg-pink-100 text-pink-700":"bg-green-100 text-green-700"),children:s.isBanned?"Banned":"Active"})}),(0,i.jsxs)("td",{className:"px-2 sm:px-6 py-4 flex gap-2",children:[(0,i.jsx)("button",{className:"btn-gradient px-3 py-1 rounded-lg text-xs font-semibold shadow",onClick:()=>(s=>{const t=prompt("Enter new password (min 8 chars):");t&&t.length>=8?e((0,n.cw)({id:s,newPassword:t})).unwrap().then((()=>d.oR.success("Password reset successfully"))).catch((e=>d.oR.error((null===e||void 0===e?void 0:e.message)||"Failed to reset password"))):t&&d.oR.error("Password must be at least 8 characters.")})(s._id),children:"Reset Password"}),(0,i.jsx)("button",{className:"px-3 py-1 rounded-lg text-xs font-semibold shadow ".concat(s.isBanned?"bg-green-200 text-green-700":"bg-pink-200 text-pink-700"),onClick:()=>e((0,n.X3)(s._id)),children:s.isBanned?"Unban":"Ban"})]})]},s._id)))})]})})]})})}},588:(e,s,t)=>{t.d(s,{A:()=>l});t(5043);var a=t(579);const l=()=>(0,a.jsx)("div",{className:"flex justify-center items-center min-h-[40vh] sm:min-h-screen w-full",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 sm:h-12 sm:w-12 border-t-2 border-b-2 border-blue-500"})})}}]);
//# sourceMappingURL=27.7246856f.chunk.js.map